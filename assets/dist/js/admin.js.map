{"version":3,"sources":["webpack:///webpack/bootstrap cc817c3f199f4d6d23cf","webpack:///./assets/js/admin/wppt-admin.js","webpack:///./assets/css/admin/wppt-admin.scss?8a5d"],"names":["window","document","$","undefined","primaryButtonUITemplate","WPPrimaryTerms","taxonomy","buildCache","render","bindEvents","categoryDiv","getElementById","name","$checkList","termListItems","querySelectorAll","primaryInputUITemplate","wp","template","setPrimaryButtonUI","isPrimary","unSetPrimaryButtonUI","insertAdjacentHTML","primaryInput","buildPrimaryTermsUI","clickHandler","bind","addEventListener","on","handleNewTermAdded","primaryTermID","getPrimaryTerm","termListItem","catCheckBox","querySelector","value","classList","add","firstElementChild","e","target","matches","termCheckHandler","preventDefault","togglePrimaryTermHandler","params","parentNode","contains","resetPrimaryTermListItems","setPrimaryTerm","termID","closest","id","match","listItems","setPrimaryTermListItems","primaryButtonWrap","removeChild","primaryTermListItems","primaryTermListItem","remove","checked","onload","wptPrimaryTaxonomies","map","init","jQuery"],"mappings":"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","file":"js/admin.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap cc817c3f199f4d6d23cf","/**\n * WP Primary Category\n * http://pareshradadiya.github.io/wp-primary-category\n *\n * Licensed under the GPLv2+ license.\n */\n\n;( function( window, document, $, undefined ) {\n\t'use strict';\n\n\tlet primaryButtonUITemplate;\n\n\tclass WPPrimaryTerms {\n\n\t\t/**\n\t\t * Constructor\n\t\t * @param taxonomy\n\t\t */\n\t\tconstructor( taxonomy ) {\n\t\t\tthis.taxonomy = taxonomy;\n\t\t}\n\n\t\t/**\n\t\t * Initializations\n\t\t */\n\t\tinit() {\n\t\t\tthis.buildCache();\n\t\t\tthis.render();\n\t\t\tthis.bindEvents();\n\t\t}\n\n\t\t/**\n\t\t *  Build cache\n\t\t */\n\t\tbuildCache() {\n\t\t\tthis.categoryDiv = document.getElementById( `taxonomy-${this.taxonomy.name}` );\n\t\t\tthis.$checkList = $( document.getElementById(`${this.taxonomy.name}checklist`) );\n\t\t\tthis.termListItems  = this.categoryDiv.querySelectorAll( `.${this.taxonomy.name}checklist li` );\n\t\t\tthis.primaryInputUITemplate = wp.template( `wpt-primary-${this.taxonomy.name}-input` );\n\t\t\tthis.setPrimaryButtonUI = primaryButtonUITemplate({ isPrimary: false });\n\t\t\tthis.unSetPrimaryButtonUI = primaryButtonUITemplate({ isPrimary: true });\n\t\t}\n\n\t\t/**\n\t\t * Do render\n\t\t */\n\t\trender() {\n\t\t\tthis.categoryDiv.insertAdjacentHTML( 'beforeend', this.primaryInputUITemplate(this.taxonomy) );\n\t\t\tthis.primaryInput = document.getElementById( `_wp_primary_${this.taxonomy.name}` );\n\t\t\tthis.buildPrimaryTermsUI();\n\t\t}\n\n\t\t/**\n\t\t * Event listeners\n\t\t */\n\t\tbindEvents() {\n\t\t\tthis.clickHandler = this.clickHandler.bind(this);\n\t\t\tthis.categoryDiv.addEventListener( 'click', this.clickHandler );\n\t\t\tthis.$checkList.on( 'wpListAddEnd', this.handleNewTermAdded.bind(this) );\n\t\t}\n\n\t\t/**\n\t\t * Add Set/Reset button in all category list items\n\t\t */\n\t\tbuildPrimaryTermsUI() {\n\t\t\tlet primaryTermID = this.getPrimaryTerm();\n\n\t\t\tfor ( let termListItem of this.termListItems ) {\n\t\t\t\tlet catCheckBox = termListItem.querySelector('input[type=checkbox]');\n\n\t\t\t\t// If current list item has primary term, add \"Rest Primary\" button\n\t\t\t\tif ( catCheckBox.value === primaryTermID ) {\n\t\t\t\t\ttermListItem.classList.add('primary-term');\n\t\t\t\t\ttermListItem.firstElementChild.insertAdjacentHTML( 'afterend', this.unSetPrimaryButtonUI );\n\t\t\t\t} else {\n\t\t\t\t\t// Otherwise, add \"Set Primary\" button\n\t\t\t\t\ttermListItem.firstElementChild.insertAdjacentHTML( 'afterend', this.setPrimaryButtonUI );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Click event handler\n\t\t * @param  {Event} e The Click event\n\t\t */\n\t\tclickHandler(e) {\n\n\t\t\t// Only run if the target is in a category div\n\t\t\tif ( ! e.target ) return;\n\n\t\t\tif ( e.target.matches('input[type=checkbox]') ) {\n\t\t\t\tthis.termCheckHandler(e);\n\t\t\t} else if ( e.target.matches('a.toggle-primary-term') ) {\n\t\t\t\te.preventDefault();\n\t\t\t\tthis.togglePrimaryTermHandler(e)\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Insert \"Set/Rest Primary\" button on lately added items\n\t\t * @param e\n\t\t * @param params\n\t\t */\n\t\thandleNewTermAdded( e, params ) {\n\t\t\te.target.firstElementChild.firstElementChild.insertAdjacentHTML( 'afterend', this.setPrimaryButtonUI );\n\t\t}\n\n\t\t/**\n\t\t * Term checked event handler\n\t\t * @param  {Event} e The Check event\n\t\t */\n\t\ttermCheckHandler(e) {\n\t\t\tif ( e.target.parentNode.parentNode.classList.contains('primary-term') ) {\n\t\t\t\tthis.resetPrimaryTermListItems();\n\t\t\t\tthis.setPrimaryTerm();\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Set/Reset Primary button click handler\n\t\t * @param  {Event} e The Click event\n\t\t */\n\t\ttogglePrimaryTermHandler(e) {\n\n\t\t\tlet\n\t\t\t\ttermID       = e.target.closest('li').id.match(/-(\\d+)$/)[1], // Fetch a term id from the li ID attribute\n\t\t\t\tlistItems   = this.categoryDiv.querySelectorAll(`#popular-${this.taxonomy.name}-${termID}, #${this.taxonomy.name}-${termID}`);\n\n\t\t\t// Set primary term\n\t\t\tif ( ! listItems[0].classList.contains('primary-term') ) {\n\t\t\t\tthis.setPrimaryTermListItems( listItems );\n\t\t\t\t// Store term id into hidden input\n\t\t\t\tthis.setPrimaryTerm( termID );\n\t\t\t} else {\n\t\t\t\t// Reset primary term\n\t\t\t\tthis.resetPrimaryTermListItems();\n\t\t\t\tthis.setPrimaryTerm();\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Set primary term list items\n\t\t * @param termListItems\n\t\t */\n\t\tsetPrimaryTermListItems( termListItems ) {\n\t\t\t// Reset a previously set primary term, if any.\n\t\t\tthis.resetPrimaryTermListItems();\n\n\t\t\tfor ( let termListItem of termListItems ) {\n\t\t\t\tlet primaryButtonWrap = termListItem.querySelector('span.primary-term-button');\n\t\t\t\ttermListItem.removeChild(primaryButtonWrap); // Remove \"Set Primary\" button wrap\n\t\t\t\t// Insert \"Reset Primary\" button\n\t\t\t\ttermListItem.firstElementChild.insertAdjacentHTML( 'afterend', this.unSetPrimaryButtonUI );\n\t\t\t\ttermListItem.classList.add('primary-term'); // Add 'primary-term' class to list item\n\t\t\t}\n\n\t\t}\n\n\t\t/**\n\t\t * Reset primary term list terms\n\t\t */\n\t\tresetPrimaryTermListItems() {\n\t\t\tlet primaryTermListItems = this.categoryDiv.querySelectorAll('li.primary-term');\n\n\t\t\tfor ( let primaryTermListItem of primaryTermListItems) {\n\t\t\t\tlet primaryButtonWrap = primaryTermListItem.querySelector('span.primary-term-button');\n\n\t\t\t\tprimaryTermListItem.classList.remove('primary-term'); // Remove primary-term class from LI\n\t\t\t\tprimaryTermListItem.removeChild(primaryButtonWrap); // Delete \"Reset Primary\" button wrap\n\t\t\t\tprimaryTermListItem.firstElementChild.insertAdjacentHTML( 'afterend', this.setPrimaryButtonUI );\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Return the primary term id\n\t\t */\n\t\tgetPrimaryTerm() {\n\t\t\treturn this.primaryInput.value;\n\t\t}\n\n\t\t/**\n\t\t * Set a primary term id into hidden input\n\t\t * @param termID\n\t\t */\n\t\tsetPrimaryTerm( termID = 0 ) {\n\t\t\tthis.primaryInput.value = termID;\n\t\t\tif ( 0 < termID ) {\n\t\t\t\tdocument.getElementById( `in-${this.taxonomy.name}-${termID}` ).checked = true;\n\t\t\t}\n\t\t}\n\t}\n\n\twindow.onload = function() {\n\t\tprimaryButtonUITemplate = wp.template('wpt-primary-term-button');\n\t\t// Loop through each taxonomy and init WPPrimaryTerms class\n\t\twptPrimaryTaxonomies.map( taxonomy => new WPPrimaryTerms( taxonomy ).init() );\n\t};\n\n}( window, document, jQuery ) );\n\n\n\n// WEBPACK FOOTER //\n// ./assets/js/admin/wppt-admin.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./assets/css/admin/wppt-admin.scss\n// module id = 2\n// module chunks = 0"],"sourceRoot":""}