{"version":3,"sources":["webpack:///js/admin.js","webpack:///webpack/bootstrap 8c99a88bd15b16ca4bb7","webpack:///./assets/js/admin/wppt-admin.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","length","descriptor","writable","key","protoProps","staticProps","window","document","$","undefined","primaryButtonUITemplate","WPPrimaryTerms","taxonomy","this","value","buildCache","render","bindEvents","taxonomyMetaBox","getElementById","$checkList","termListItems","querySelectorAll","primaryInputUITemplate","wp","template","setPrimaryButtonUI","isPrimary","unSetPrimaryButtonUI","insertAdjacentHTML","primaryInput","buildPrimaryTermsUI","clickHandler","bind","addEventListener","on","handleNewTermAdded","primaryTermID","getPrimaryTerm","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","termListItem","querySelector","classList","add","firstElementChild","err","return","e","matches","termCheckHandler","preventDefault","togglePrimaryTermHandler","parentNode","contains","resetPrimaryTermListItems","setPrimaryTerm","termID","closest","id","match","listItems","setPrimaryTermListItems","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","primaryButtonWrap","removeChild","primaryTermListItems","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","primaryTermListItem","remove","arguments","checked","onload","wp_primary_terms_vars","map","init","jQuery"],"mappings":"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","file":"js/admin.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(1);\nmodule.exports = __webpack_require__(2);\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports) {\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * WP Primary Category\n * http://pareshradadiya.github.io/wp-primary-category\n *\n * Licensed under the GPLv2+ license.\n */\n(function (window, document, $, undefined) {\n\t'use strict';\n\n\tvar primaryButtonUITemplate = void 0;\n\n\tvar WPPrimaryTerms = function () {\n\t\t/**\n   * Constructor\n   * @param taxonomy\n   */\n\t\tfunction WPPrimaryTerms(taxonomy) {\n\t\t\t_classCallCheck(this, WPPrimaryTerms);\n\n\t\t\tthis.taxonomy = taxonomy;\n\t\t}\n\n\t\t/**\n   * Initializations\n   */\n\n\n\t\t_createClass(WPPrimaryTerms, [{\n\t\t\tkey: 'init',\n\t\t\tvalue: function init() {\n\t\t\t\tthis.buildCache();\n\t\t\t\tthis.render();\n\t\t\t\tthis.bindEvents();\n\t\t\t}\n\n\t\t\t/**\n    *  Build cache\n    */\n\n\t\t}, {\n\t\t\tkey: 'buildCache',\n\t\t\tvalue: function buildCache() {\n\t\t\t\tthis.taxonomyMetaBox = document.getElementById('taxonomy-' + this.taxonomy.name);\n\t\t\t\tthis.$checkList = $(document.getElementById(this.taxonomy.name + 'checklist'));\n\t\t\t\tthis.termListItems = this.taxonomyMetaBox.querySelectorAll('.' + this.taxonomy.name + 'checklist li');\n\t\t\t\tthis.primaryInputUITemplate = wp.template('wpt-primary-' + this.taxonomy.name + '-input');\n\t\t\t\tthis.setPrimaryButtonUI = primaryButtonUITemplate({ isPrimary: false });\n\t\t\t\tthis.unSetPrimaryButtonUI = primaryButtonUITemplate({ isPrimary: true });\n\t\t\t}\n\n\t\t\t/**\n    * Do render\n    */\n\n\t\t}, {\n\t\t\tkey: 'render',\n\t\t\tvalue: function render() {\n\t\t\t\tthis.taxonomyMetaBox.insertAdjacentHTML('beforeend', this.primaryInputUITemplate(this.taxonomy));\n\t\t\t\tthis.primaryInput = document.getElementById('_wp_primary_' + this.taxonomy.name);\n\t\t\t\tthis.buildPrimaryTermsUI();\n\t\t\t}\n\n\t\t\t/**\n    * Event listeners\n    */\n\n\t\t}, {\n\t\t\tkey: 'bindEvents',\n\t\t\tvalue: function bindEvents() {\n\t\t\t\tthis.clickHandler = this.clickHandler.bind(this);\n\t\t\t\tthis.taxonomyMetaBox.addEventListener('click', this.clickHandler);\n\t\t\t\tthis.$checkList.on('wpListAddEnd', this.handleNewTermAdded.bind(this));\n\t\t\t}\n\n\t\t\t/**\n    * Add Set/Reset button in all category list items\n    */\n\n\t\t}, {\n\t\t\tkey: 'buildPrimaryTermsUI',\n\t\t\tvalue: function buildPrimaryTermsUI() {\n\t\t\t\tvar primaryTermID = this.getPrimaryTerm();\n\n\t\t\t\tvar _iteratorNormalCompletion = true;\n\t\t\t\tvar _didIteratorError = false;\n\t\t\t\tvar _iteratorError = undefined;\n\n\t\t\t\ttry {\n\t\t\t\t\tfor (var _iterator = this.termListItems[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t\t\t\t\t\tvar termListItem = _step.value;\n\n\t\t\t\t\t\tvar catCheckBox = termListItem.querySelector('input[type=checkbox]');\n\n\t\t\t\t\t\t// If current list item has primary term, add \"Rest Primary\" button\n\t\t\t\t\t\tif (catCheckBox.value === primaryTermID) {\n\t\t\t\t\t\t\ttermListItem.classList.add('primary-term');\n\t\t\t\t\t\t\ttermListItem.firstElementChild.insertAdjacentHTML('afterend', this.unSetPrimaryButtonUI);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// Otherwise, add \"Set Primary\" button\n\t\t\t\t\t\t\ttermListItem.firstElementChild.insertAdjacentHTML('afterend', this.setPrimaryButtonUI);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} catch (err) {\n\t\t\t\t\t_didIteratorError = true;\n\t\t\t\t\t_iteratorError = err;\n\t\t\t\t} finally {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tif (!_iteratorNormalCompletion && _iterator.return) {\n\t\t\t\t\t\t\t_iterator.return();\n\t\t\t\t\t\t}\n\t\t\t\t\t} finally {\n\t\t\t\t\t\tif (_didIteratorError) {\n\t\t\t\t\t\t\tthrow _iteratorError;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t/**\n    * Click event handler\n    * @param  {Event} e The Click event\n    */\n\n\t\t}, {\n\t\t\tkey: 'clickHandler',\n\t\t\tvalue: function clickHandler(e) {\n\t\t\t\t// Only run if the target is in a category div\n\t\t\t\tif (!e.target) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (e.target.matches('input[type=checkbox]')) {\n\t\t\t\t\tthis.termCheckHandler(e);\n\t\t\t\t} else if (e.target.matches('a.toggle-primary-term')) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tthis.togglePrimaryTermHandler(e);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t/**\n    * Insert \"Set/Rest Primary\" button on lately added items\n    * @param e\n    * @param params\n    */\n\n\t\t}, {\n\t\t\tkey: 'handleNewTermAdded',\n\t\t\tvalue: function handleNewTermAdded(e) {\n\t\t\t\te.target.firstElementChild.firstElementChild.insertAdjacentHTML('afterend', this.setPrimaryButtonUI);\n\t\t\t}\n\n\t\t\t/**\n    * Term checked event handler\n    * @param  {Event} e The Check event\n    */\n\n\t\t}, {\n\t\t\tkey: 'termCheckHandler',\n\t\t\tvalue: function termCheckHandler(e) {\n\t\t\t\tif (e.target.parentNode.parentNode.classList.contains('primary-term')) {\n\t\t\t\t\tthis.resetPrimaryTermListItems();\n\t\t\t\t\tthis.setPrimaryTerm();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t/**\n    * Set/Reset Primary button click handler\n    * @param  {Event} e The Click event\n    */\n\n\t\t}, {\n\t\t\tkey: 'togglePrimaryTermHandler',\n\t\t\tvalue: function togglePrimaryTermHandler(e) {\n\t\t\t\tvar termID = e.target.closest('li').id.match(/-(\\d+)$/)[1],\n\t\t\t\t    // Fetch a term id from the li ID attribute\n\t\t\t\tlistItems = this.taxonomyMetaBox.querySelectorAll('#popular-' + this.taxonomy.name + '-' + termID + ', #' + this.taxonomy.name + '-' + termID);\n\n\t\t\t\t// Set primary term\n\t\t\t\tif (!listItems[0].classList.contains('primary-term')) {\n\t\t\t\t\tthis.setPrimaryTermListItems(listItems);\n\t\t\t\t\t// Store term id into hidden input\n\t\t\t\t\tthis.setPrimaryTerm(termID);\n\t\t\t\t} else {\n\t\t\t\t\t// Reset primary term\n\t\t\t\t\tthis.resetPrimaryTermListItems();\n\t\t\t\t\tthis.setPrimaryTerm();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t/**\n    * Set primary term list items\n    * @param termListItems\n    */\n\n\t\t}, {\n\t\t\tkey: 'setPrimaryTermListItems',\n\t\t\tvalue: function setPrimaryTermListItems(termListItems) {\n\t\t\t\t// Reset a previously set primary term, if any.\n\t\t\t\tthis.resetPrimaryTermListItems();\n\n\t\t\t\tvar _iteratorNormalCompletion2 = true;\n\t\t\t\tvar _didIteratorError2 = false;\n\t\t\t\tvar _iteratorError2 = undefined;\n\n\t\t\t\ttry {\n\t\t\t\t\tfor (var _iterator2 = termListItems[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n\t\t\t\t\t\tvar termListItem = _step2.value;\n\n\t\t\t\t\t\tvar primaryButtonWrap = termListItem.querySelector('span.primary-term-button');\n\t\t\t\t\t\ttermListItem.removeChild(primaryButtonWrap); // Remove \"Set Primary\" button wrap\n\t\t\t\t\t\t// Insert \"Reset Primary\" button\n\t\t\t\t\t\ttermListItem.firstElementChild.insertAdjacentHTML('afterend', this.unSetPrimaryButtonUI);\n\t\t\t\t\t\ttermListItem.classList.add('primary-term'); // Add 'primary-term' class to list item\n\t\t\t\t\t}\n\t\t\t\t} catch (err) {\n\t\t\t\t\t_didIteratorError2 = true;\n\t\t\t\t\t_iteratorError2 = err;\n\t\t\t\t} finally {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tif (!_iteratorNormalCompletion2 && _iterator2.return) {\n\t\t\t\t\t\t\t_iterator2.return();\n\t\t\t\t\t\t}\n\t\t\t\t\t} finally {\n\t\t\t\t\t\tif (_didIteratorError2) {\n\t\t\t\t\t\t\tthrow _iteratorError2;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t/**\n    * Reset primary term list terms\n    */\n\n\t\t}, {\n\t\t\tkey: 'resetPrimaryTermListItems',\n\t\t\tvalue: function resetPrimaryTermListItems() {\n\t\t\t\tvar primaryTermListItems = this.taxonomyMetaBox.querySelectorAll('li.primary-term');\n\n\t\t\t\tvar _iteratorNormalCompletion3 = true;\n\t\t\t\tvar _didIteratorError3 = false;\n\t\t\t\tvar _iteratorError3 = undefined;\n\n\t\t\t\ttry {\n\t\t\t\t\tfor (var _iterator3 = primaryTermListItems[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n\t\t\t\t\t\tvar primaryTermListItem = _step3.value;\n\n\t\t\t\t\t\tvar primaryButtonWrap = primaryTermListItem.querySelector('span.primary-term-button');\n\n\t\t\t\t\t\tprimaryTermListItem.classList.remove('primary-term'); // Remove primary-term class from LI\n\t\t\t\t\t\tprimaryTermListItem.removeChild(primaryButtonWrap); // Delete \"Reset Primary\" button wrap\n\t\t\t\t\t\tprimaryTermListItem.firstElementChild.insertAdjacentHTML('afterend', this.setPrimaryButtonUI);\n\t\t\t\t\t}\n\t\t\t\t} catch (err) {\n\t\t\t\t\t_didIteratorError3 = true;\n\t\t\t\t\t_iteratorError3 = err;\n\t\t\t\t} finally {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tif (!_iteratorNormalCompletion3 && _iterator3.return) {\n\t\t\t\t\t\t\t_iterator3.return();\n\t\t\t\t\t\t}\n\t\t\t\t\t} finally {\n\t\t\t\t\t\tif (_didIteratorError3) {\n\t\t\t\t\t\t\tthrow _iteratorError3;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t/**\n    * Return the primary term id\n    */\n\n\t\t}, {\n\t\t\tkey: 'getPrimaryTerm',\n\t\t\tvalue: function getPrimaryTerm() {\n\t\t\t\treturn this.primaryInput.value;\n\t\t\t}\n\n\t\t\t/**\n    * Set a primary term id into hidden input\n    * @param termID\n    */\n\n\t\t}, {\n\t\t\tkey: 'setPrimaryTerm',\n\t\t\tvalue: function setPrimaryTerm() {\n\t\t\t\tvar termID = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n\t\t\t\tthis.primaryInput.value = termID;\n\t\t\t\tif (0 < termID) {\n\t\t\t\t\tdocument.getElementById('in-' + this.taxonomy.name + '-' + termID).checked = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}]);\n\n\t\treturn WPPrimaryTerms;\n\t}();\n\n\twindow.onload = function () {\n\t\tprimaryButtonUITemplate = wp.template('wpt-primary-term-button');\n\t\t// Loop through each taxonomy and init WPPrimaryTerms class\n\t\twp_primary_terms_vars.map(function (taxonomy) {\n\t\t\treturn new WPPrimaryTerms(taxonomy).init();\n\t\t});\n\t};\n})(window, document, jQuery);\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// js/admin.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 8c99a88bd15b16ca4bb7","/**\n * WP Primary Category\n * http://pareshradadiya.github.io/wp-primary-category\n *\n * Licensed under the GPLv2+ license.\n */\n( function( window, document, $, undefined ) {\n\t'use strict';\n\n\tlet primaryButtonUITemplate;\n\n\tclass WPPrimaryTerms {\n\t\t/**\n\t\t * Constructor\n\t\t * @param taxonomy\n\t\t */\n\t\tconstructor( taxonomy ) {\n\t\t\tthis.taxonomy = taxonomy;\n\t\t}\n\n\t\t/**\n\t\t * Initializations\n\t\t */\n\t\tinit() {\n\t\t\tthis.buildCache();\n\t\t\tthis.render();\n\t\t\tthis.bindEvents();\n\t\t}\n\n\t\t/**\n\t\t *  Build cache\n\t\t */\n\t\tbuildCache() {\n\t\t\tthis.taxonomyMetaBox = document.getElementById( `taxonomy-${ this.taxonomy.name }` );\n\t\t\tthis.$checkList = $( document.getElementById( `${ this.taxonomy.name }checklist` ) );\n\t\t\tthis.termListItems = this.taxonomyMetaBox.querySelectorAll( `.${ this.taxonomy.name }checklist li` );\n\t\t\tthis.primaryInputUITemplate = wp.template( `wpt-primary-${ this.taxonomy.name }-input` );\n\t\t\tthis.setPrimaryButtonUI = primaryButtonUITemplate( { isPrimary: false } );\n\t\t\tthis.unSetPrimaryButtonUI = primaryButtonUITemplate( { isPrimary: true } );\n\t\t}\n\n\t\t/**\n\t\t * Do render\n\t\t */\n\t\trender() {\n\t\t\tthis.taxonomyMetaBox.insertAdjacentHTML( 'beforeend', this.primaryInputUITemplate( this.taxonomy ) );\n\t\t\tthis.primaryInput = document.getElementById( `_wp_primary_${ this.taxonomy.name }` );\n\t\t\tthis.buildPrimaryTermsUI();\n\t\t}\n\n\t\t/**\n\t\t * Event listeners\n\t\t */\n\t\tbindEvents() {\n\t\t\tthis.clickHandler = this.clickHandler.bind( this );\n\t\t\tthis.taxonomyMetaBox.addEventListener( 'click', this.clickHandler );\n\t\t\tthis.$checkList.on( 'wpListAddEnd', this.handleNewTermAdded.bind( this ) );\n\t\t}\n\n\t\t/**\n\t\t * Add Set/Reset button in all category list items\n\t\t */\n\t\tbuildPrimaryTermsUI() {\n\t\t\tconst primaryTermID = this.getPrimaryTerm();\n\n\t\t\tfor ( const termListItem of this.termListItems ) {\n\t\t\t\tconst catCheckBox = termListItem.querySelector( 'input[type=checkbox]' );\n\n\t\t\t\t// If current list item has primary term, add \"Rest Primary\" button\n\t\t\t\tif ( catCheckBox.value === primaryTermID ) {\n\t\t\t\t\ttermListItem.classList.add( 'primary-term' );\n\t\t\t\t\ttermListItem.firstElementChild.insertAdjacentHTML( 'afterend', this.unSetPrimaryButtonUI );\n\t\t\t\t} else {\n\t\t\t\t\t// Otherwise, add \"Set Primary\" button\n\t\t\t\t\ttermListItem.firstElementChild.insertAdjacentHTML( 'afterend', this.setPrimaryButtonUI );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Click event handler\n\t\t * @param  {Event} e The Click event\n\t\t */\n\t\tclickHandler( e ) {\n\t\t\t// Only run if the target is in a category div\n\t\t\tif ( ! e.target ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( e.target.matches( 'input[type=checkbox]' ) ) {\n\t\t\t\tthis.termCheckHandler( e );\n\t\t\t} else if ( e.target.matches( 'a.toggle-primary-term' ) ) {\n\t\t\t\te.preventDefault();\n\t\t\t\tthis.togglePrimaryTermHandler( e );\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Insert \"Set/Rest Primary\" button on lately added items\n\t\t * @param e\n\t\t * @param params\n\t\t */\n\t\thandleNewTermAdded( e ) {\n\t\t\te.target.firstElementChild.firstElementChild.insertAdjacentHTML( 'afterend', this.setPrimaryButtonUI );\n\t\t}\n\n\t\t/**\n\t\t * Term checked event handler\n\t\t * @param  {Event} e The Check event\n\t\t */\n\t\ttermCheckHandler( e ) {\n\t\t\tif ( e.target.parentNode.parentNode.classList.contains( 'primary-term' ) ) {\n\t\t\t\tthis.resetPrimaryTermListItems();\n\t\t\t\tthis.setPrimaryTerm();\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Set/Reset Primary button click handler\n\t\t * @param  {Event} e The Click event\n\t\t */\n\t\ttogglePrimaryTermHandler( e ) {\n\t\t\tconst\n\t\t\t\ttermID = e.target.closest( 'li' ).id.match( /-(\\d+)$/ )[ 1 ], // Fetch a term id from the li ID attribute\n\t\t\t\tlistItems = this.taxonomyMetaBox.querySelectorAll( `#popular-${ this.taxonomy.name }-${ termID }, #${ this.taxonomy.name }-${ termID }` );\n\n\t\t\t// Set primary term\n\t\t\tif ( ! listItems[ 0 ].classList.contains( 'primary-term' ) ) {\n\t\t\t\tthis.setPrimaryTermListItems( listItems );\n\t\t\t\t// Store term id into hidden input\n\t\t\t\tthis.setPrimaryTerm( termID );\n\t\t\t} else {\n\t\t\t\t// Reset primary term\n\t\t\t\tthis.resetPrimaryTermListItems();\n\t\t\t\tthis.setPrimaryTerm();\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Set primary term list items\n\t\t * @param termListItems\n\t\t */\n\t\tsetPrimaryTermListItems( termListItems ) {\n\t\t\t// Reset a previously set primary term, if any.\n\t\t\tthis.resetPrimaryTermListItems();\n\n\t\t\tfor ( const termListItem of termListItems ) {\n\t\t\t\tconst primaryButtonWrap = termListItem.querySelector( 'span.primary-term-button' );\n\t\t\t\ttermListItem.removeChild( primaryButtonWrap ); // Remove \"Set Primary\" button wrap\n\t\t\t\t// Insert \"Reset Primary\" button\n\t\t\t\ttermListItem.firstElementChild.insertAdjacentHTML( 'afterend', this.unSetPrimaryButtonUI );\n\t\t\t\ttermListItem.classList.add( 'primary-term' ); // Add 'primary-term' class to list item\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Reset primary term list terms\n\t\t */\n\t\tresetPrimaryTermListItems() {\n\t\t\tconst primaryTermListItems = this.taxonomyMetaBox.querySelectorAll( 'li.primary-term' );\n\n\t\t\tfor ( const primaryTermListItem of primaryTermListItems ) {\n\t\t\t\tconst primaryButtonWrap = primaryTermListItem.querySelector( 'span.primary-term-button' );\n\n\t\t\t\tprimaryTermListItem.classList.remove( 'primary-term' ); // Remove primary-term class from LI\n\t\t\t\tprimaryTermListItem.removeChild( primaryButtonWrap ); // Delete \"Reset Primary\" button wrap\n\t\t\t\tprimaryTermListItem.firstElementChild.insertAdjacentHTML( 'afterend', this.setPrimaryButtonUI );\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Return the primary term id\n\t\t */\n\t\tgetPrimaryTerm() {\n\t\t\treturn this.primaryInput.value;\n\t\t}\n\n\t\t/**\n\t\t * Set a primary term id into hidden input\n\t\t * @param termID\n\t\t */\n\t\tsetPrimaryTerm( termID = 0 ) {\n\t\t\tthis.primaryInput.value = termID;\n\t\t\tif ( 0 < termID ) {\n\t\t\t\tdocument.getElementById( `in-${ this.taxonomy.name }-${ termID }` ).checked = true;\n\t\t\t}\n\t\t}\n\t}\n\n\twindow.onload = function() {\n\t\tprimaryButtonUITemplate = wp.template( 'wpt-primary-term-button' );\n\t\t// Loop through each taxonomy and init WPPrimaryTerms class\n\t\twp_primary_terms_vars.map( taxonomy => new WPPrimaryTerms( taxonomy ).init() );\n\t};\n}( window, document, jQuery ) );\n\n\n\n// WEBPACK FOOTER //\n// ./assets/js/admin/wppt-admin.js"],"sourceRoot":""}