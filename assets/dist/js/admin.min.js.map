{"version":3,"sources":["webpack:///webpack/bootstrap 50f37bfa598f760fdb3b","webpack:///./assets/js/admin/admin.js","webpack:///./assets/css/admin/admin.scss?de58"],"names":["window","document","$","setPrimaryButtonTamplate","reSetPrimaryButtonTamplate","WPPrimaryTerms","taxonomy","buildCache","render","bindEvents","taxonomyMetaBox","getElementById","name","$checkList","termListItems","querySelectorAll","primaryInputUITemplate","wp","template","insertAdjacentHTML","primaryInput","buildPrimaryTermsUI","clickHandler","bind","addEventListener","on","handleNewTermAdded","primaryTermID","getPrimaryTerm","termListItem","catCheckBox","querySelector","value","classList","add","firstElementChild","e","target","matches","termCheckHandler","preventDefault","togglePrimaryTermHandler","parentNode","contains","resetPrimaryTermListItems","setPrimaryTerm","termID","closest","id","match","listItems","setPrimaryTermListItems","primaryButtonWrap","removeChild","primaryTermListItems","primaryTermListItem","remove","checked","popularTermckBox","onload","primaryButtonUITemplate","isPrimary","wpPrimaryTermsVars","map","init","jQuery"],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;;;;;;;;;;;;;;;AC7DA;;;;;;AAME,WAAUA,MAAV,EAAkBC,QAAlB,EAA4BC,CAA5B,EAAgC;AACjC;;AAEA,KAAIC,iCAAJ;AAAA,KAA8BC,mCAA9B;;AAHiC,KAK3BC,cAL2B;AAMhC;;;;AAIA,0BAAaC,QAAb,EAAwB;AAAA;;AACvB,QAAKA,QAAL,GAAgBA,QAAhB;AACA;;AAED;;;;;AAdgC;AAAA;AAAA,0BAiBzB;AACN,SAAKC,UAAL;AACA,SAAKC,MAAL;AACA,SAAKC,UAAL;AACA;;AAED;;;;AAvBgC;AAAA;AAAA,gCA0BnB;AACZ,SAAKC,eAAL,GAAuBT,SAASU,cAAT,eAAsC,KAAKL,QAAL,CAAcM,IAApD,CAAvB;AACA,SAAKC,UAAL,GAAkBX,EAAGD,SAASU,cAAT,CAA6B,KAAKL,QAAL,CAAcM,IAA3C,eAAH,CAAlB;AACA,SAAKE,aAAL,GAAqB,KAAKJ,eAAL,CAAqBK,gBAArB,CAAuC,uBAAvC,CAArB;AACA,SAAKC,sBAAL,GAA8BC,GAAGC,QAAH,iBAA4B,KAAKZ,QAAL,CAAcM,IAA1C,YAA9B;AACA;;AAED;;;;AAjCgC;AAAA;AAAA,4BAoCvB;AACR,SAAKF,eAAL,CAAqBS,kBAArB,CAAyC,WAAzC,EAAsD,KAAKH,sBAAL,CAA6B,KAAKV,QAAlC,CAAtD;AACA,SAAKc,YAAL,GAAoBnB,SAASU,cAAT,kBAAyC,KAAKL,QAAL,CAAcM,IAAvD,CAApB;AACA,SAAKS,mBAAL;AACA;;AAED;;;;AA1CgC;AAAA;AAAA,gCA6CnB;AACZ,SAAKC,YAAL,GAAoB,KAAKA,YAAL,CAAkBC,IAAlB,CAAwB,IAAxB,CAApB;AACA,SAAKb,eAAL,CAAqBc,gBAArB,CAAuC,OAAvC,EAAgD,KAAKF,YAArD;AACA,SAAKT,UAAL,CAAgBY,EAAhB,CAAoB,cAApB,EAAoC,KAAKC,kBAAL,CAAwBH,IAAxB,CAA8B,IAA9B,CAApC;AACA;;AAED;;;;AAnDgC;AAAA;AAAA,yCAsDV;AACrB,QAAMI,gBAAgB,KAAKC,cAAL,EAAtB;;AADqB;AAAA;AAAA;;AAAA;AAGrB,0BAA4B,KAAKd,aAAjC,8HAAiD;AAAA,UAArCe,YAAqC;;AAChD,UAAMC,cAAcD,aAAaE,aAAb,CAA4B,sBAA5B,CAApB;;AAEA;AACA,UAAKD,YAAYE,KAAZ,KAAsBL,aAA3B,EAA2C;AAC1CE,oBAAaI,SAAb,CAAuBC,GAAvB,CAA4B,cAA5B;AACAL,oBAAaM,iBAAb,CAA+BhB,kBAA/B,CAAmD,UAAnD,EAA+Df,0BAA/D;AACA,OAHD,MAGO;AACN;AACAyB,oBAAaM,iBAAb,CAA+BhB,kBAA/B,CAAmD,UAAnD,EAA+DhB,wBAA/D;AACA;AACD;AAdoB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAerB;;AAED;;;;;AAvEgC;AAAA;AAAA,gCA2ElBiC,CA3EkB,EA2Ed;AACjB;AACA,QAAK,CAAEA,EAAEC,MAAT,EAAkB;AACjB;AACA;;AAED,QAAKD,EAAEC,MAAF,CAASC,OAAT,CAAkB,sBAAlB,CAAL,EAAkD;AACjD,UAAKC,gBAAL,CAAuBH,CAAvB;AACA,KAFD,MAEO,IAAKA,EAAEC,MAAF,CAASC,OAAT,CAAkB,uBAAlB,CAAL,EAAmD;AACzDF,OAAEI,cAAF;AACA,UAAKC,wBAAL,CAA+BL,CAA/B;AACA;AACD;;AAED;;;;;;AAzFgC;AAAA;AAAA,sCA8FZA,CA9FY,EA8FR;AACvBA,MAAEC,MAAF,CAASF,iBAAT,CAA2BA,iBAA3B,CAA6ChB,kBAA7C,CAAiE,UAAjE,EAA6EhB,wBAA7E;AACA;;AAED;;;;;AAlGgC;AAAA;AAAA,oCAsGdiC,CAtGc,EAsGV;AACrB,QAAKA,EAAEC,MAAF,CAASK,UAAT,CAAoBA,UAApB,CAA+BT,SAA/B,CAAyCU,QAAzC,CAAmD,cAAnD,CAAL,EAA2E;AAC1E,UAAKC,yBAAL;AACA,UAAKC,cAAL;AACA;AACD;;AAED;;;;;AA7GgC;AAAA;AAAA,4CAiHNT,CAjHM,EAiHF;AAC7B,QACCU,SAASV,EAAEC,MAAF,CAASU,OAAT,CAAkB,IAAlB,EAAyBC,EAAzB,CAA4BC,KAA5B,CAAmC,SAAnC,EAAgD,CAAhD,CADV;AAAA,QAC+D;AAC9DC,gBAAY,KAAKxC,eAAL,CAAqBK,gBAArB,eAAoD,KAAKT,QAAL,CAAcM,IAAlE,SAA4EkC,MAA5E,WAA0F,KAAKxC,QAAL,CAAcM,IAAxG,SAAkHkC,MAAlH,CAFb;;AAIA;AACA,QAAK,CAAEI,UAAW,CAAX,EAAejB,SAAf,CAAyBU,QAAzB,CAAmC,cAAnC,CAAP,EAA6D;AAC5D,UAAKQ,uBAAL,CAA8BD,SAA9B;AACA;AACA,UAAKL,cAAL,CAAqBC,MAArB;AACA,KAJD,MAIO;AACN;AACA,UAAKF,yBAAL;AACA,UAAKC,cAAL;AACA;AACD;;AAED;;;;;AAlIgC;AAAA;AAAA,2CAsIP/B,aAtIO,EAsIS;AACxC;AACA,SAAK8B,yBAAL;;AAFwC;AAAA;AAAA;;AAAA;AAIxC,2BAA4B9B,aAA5B,mIAA4C;AAAA,UAAhCe,YAAgC;;AAC3C,UAAMuB,oBAAoBvB,aAAaE,aAAb,CAA4B,0BAA5B,CAA1B;AACAF,mBAAawB,WAAb,CAA0BD,iBAA1B,EAF2C,CAEI;AAC/C;AACAvB,mBAAaM,iBAAb,CAA+BhB,kBAA/B,CAAmD,UAAnD,EAA+Df,0BAA/D;AACAyB,mBAAaI,SAAb,CAAuBC,GAAvB,CAA4B,cAA5B,EAL2C,CAKG;AAC9C;AAVuC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWxC;;AAED;;;;AAnJgC;AAAA;AAAA,+CAsJJ;AAC3B,QAAMoB,uBAAuB,KAAK5C,eAAL,CAAqBK,gBAArB,CAAuC,iBAAvC,CAA7B;;AAD2B;AAAA;AAAA;;AAAA;AAG3B,2BAAmCuC,oBAAnC,mIAA0D;AAAA,UAA9CC,mBAA8C;;AACzD,UAAMH,oBAAoBG,oBAAoBxB,aAApB,CAAmC,0BAAnC,CAA1B;;AAEAwB,0BAAoBtB,SAApB,CAA8BuB,MAA9B,CAAsC,cAAtC,EAHyD,CAGD;AACxDD,0BAAoBF,WAApB,CAAiCD,iBAAjC,EAJyD,CAIH;AACtDG,0BAAoBpB,iBAApB,CAAsChB,kBAAtC,CAA0D,UAA1D,EAAsEhB,wBAAtE;AACA;AAT0B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAU3B;;AAED;;;;AAlKgC;AAAA;AAAA,oCAqKf;AAChB,WAAO,KAAKiB,YAAL,CAAkBY,KAAzB;AACA;;AAED;;;;;AAzKgC;AAAA;AAAA,oCA6KH;AAAA,QAAbc,MAAa,uEAAJ,CAAI;;AAC5B,SAAK1B,YAAL,CAAkBY,KAAlB,GAA0Bc,MAA1B;AACA,QAAKA,SAAS,CAAd,EAAkB;AACjB;AACA7C,cAASU,cAAT,SAAgC,KAAKL,QAAL,CAAcM,IAA9C,SAAwDkC,MAAxD,EAAoEW,OAApE,GAA8E,IAA9E;AACA;AACA,SAAMC,mBAAmBzD,SAASU,cAAT,iBAAwC,KAAKL,QAAL,CAAcM,IAAtD,SAAgEkC,MAAhE,CAAzB;AACA,SAAKY,gBAAL,EAAwB;AACvBA,uBAAiBD,OAAjB,GAA2B,IAA3B;AACA;AACD;AACD;AAxL+B;;AAAA;AAAA;;AA2LjCzD,QAAO2D,MAAP,GAAgB,YAAW;AAC1B,MAAMC,0BAA0B3C,GAAGC,QAAH,CAAa,wBAAb,CAAhC;AACAf,6BAA2ByD,wBAAyB,EAAEC,WAAW,KAAb,EAAzB,CAA3B;AACAzD,+BAA6BwD,wBAAyB,EAAEC,WAAW,IAAb,EAAzB,CAA7B;AACA;AACAC,qBAAmBC,GAAnB,CAAwB;AAAA,UAAY,IAAI1D,cAAJ,CAAoBC,QAApB,EAA+B0D,IAA/B,EAAZ;AAAA,GAAxB;AACA,EAND;AAOA,CAlMC,EAkMChE,MAlMD,EAkMSC,QAlMT,EAkMmBgE,MAlMnB,CAAF,C;;;;;;ACNA,yC","file":"js/admin.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 50f37bfa598f760fdb3b","/**\n * WP Primary Terms\n * http://pareshradadiya.github.io/wp-primary-terms\n *\n * Licensed under the GPLv2+ license.\n */\n( function( window, document, $ ) {\n\t'use strict';\n\n\tlet setPrimaryButtonTamplate, reSetPrimaryButtonTamplate;\n\n\tclass WPPrimaryTerms {\n\t\t/**\n\t\t * Constructor\n\t\t * @param taxonomy\n\t\t */\n\t\tconstructor( taxonomy ) {\n\t\t\tthis.taxonomy = taxonomy;\n\t\t}\n\n\t\t/**\n\t\t * Initializations\n\t\t */\n\t\tinit() {\n\t\t\tthis.buildCache();\n\t\t\tthis.render();\n\t\t\tthis.bindEvents();\n\t\t}\n\n\t\t/**\n\t\t *  Build cache\n\t\t */\n\t\tbuildCache() {\n\t\t\tthis.taxonomyMetaBox = document.getElementById( `taxonomy-${ this.taxonomy.name }` );\n\t\t\tthis.$checkList = $( document.getElementById( `${ this.taxonomy.name }checklist` ) );\n\t\t\tthis.termListItems = this.taxonomyMetaBox.querySelectorAll( '.categorychecklist li' );\n\t\t\tthis.primaryInputUITemplate = wp.template( `wp-primary-${ this.taxonomy.name }-input` );\n\t\t}\n\n\t\t/**\n\t\t * Do render\n\t\t */\n\t\trender() {\n\t\t\tthis.taxonomyMetaBox.insertAdjacentHTML( 'beforeend', this.primaryInputUITemplate( this.taxonomy ) );\n\t\t\tthis.primaryInput = document.getElementById( `_wp_primary_${ this.taxonomy.name }` );\n\t\t\tthis.buildPrimaryTermsUI();\n\t\t}\n\n\t\t/**\n\t\t * Event listeners\n\t\t */\n\t\tbindEvents() {\n\t\t\tthis.clickHandler = this.clickHandler.bind( this );\n\t\t\tthis.taxonomyMetaBox.addEventListener( 'click', this.clickHandler );\n\t\t\tthis.$checkList.on( 'wpListAddEnd', this.handleNewTermAdded.bind( this ) );\n\t\t}\n\n\t\t/**\n\t\t * Add Set/Reset button in all category list items\n\t\t */\n\t\tbuildPrimaryTermsUI() {\n\t\t\tconst primaryTermID = this.getPrimaryTerm();\n\n\t\t\tfor ( const termListItem of this.termListItems ) {\n\t\t\t\tconst catCheckBox = termListItem.querySelector( 'input[type=checkbox]' );\n\n\t\t\t\t// If current list item has primary term, add \"Rest Primary\" button\n\t\t\t\tif ( catCheckBox.value === primaryTermID ) {\n\t\t\t\t\ttermListItem.classList.add( 'primary-term' );\n\t\t\t\t\ttermListItem.firstElementChild.insertAdjacentHTML( 'afterend', reSetPrimaryButtonTamplate );\n\t\t\t\t} else {\n\t\t\t\t\t// Otherwise, add \"Set Primary\" button\n\t\t\t\t\ttermListItem.firstElementChild.insertAdjacentHTML( 'afterend', setPrimaryButtonTamplate );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Click event handler\n\t\t * @param  {Event} e The Click event\n\t\t */\n\t\tclickHandler( e ) {\n\t\t\t// Only run if the target is in a taxonomy meta div\n\t\t\tif ( ! e.target ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( e.target.matches( 'input[type=checkbox]' ) ) {\n\t\t\t\tthis.termCheckHandler( e );\n\t\t\t} else if ( e.target.matches( 'a.toggle-primary-term' ) ) {\n\t\t\t\te.preventDefault();\n\t\t\t\tthis.togglePrimaryTermHandler( e );\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Insert \"Set/Rest Primary\" button on lately added items\n\t\t * @param e\n\t\t * @param params\n\t\t */\n\t\thandleNewTermAdded( e ) {\n\t\t\te.target.firstElementChild.firstElementChild.insertAdjacentHTML( 'afterend', setPrimaryButtonTamplate );\n\t\t}\n\n\t\t/**\n\t\t * Term checked event handler\n\t\t * @param  {Event} e The Check event\n\t\t */\n\t\ttermCheckHandler( e ) {\n\t\t\tif ( e.target.parentNode.parentNode.classList.contains( 'primary-term' ) ) {\n\t\t\t\tthis.resetPrimaryTermListItems();\n\t\t\t\tthis.setPrimaryTerm();\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Set/Reset Primary button click handler\n\t\t * @param  {Event} e The Click event\n\t\t */\n\t\ttogglePrimaryTermHandler( e ) {\n\t\t\tconst\n\t\t\t\ttermID = e.target.closest( 'li' ).id.match( /-(\\d+)$/ )[ 1 ], // Fetch a term id from the li ID attribute\n\t\t\t\tlistItems = this.taxonomyMetaBox.querySelectorAll( `#popular-${ this.taxonomy.name }-${ termID }, #${ this.taxonomy.name }-${ termID }` );\n\n\t\t\t// Set primary term\n\t\t\tif ( ! listItems[ 0 ].classList.contains( 'primary-term' ) ) {\n\t\t\t\tthis.setPrimaryTermListItems( listItems );\n\t\t\t\t// Store term id into hidden input\n\t\t\t\tthis.setPrimaryTerm( termID );\n\t\t\t} else {\n\t\t\t\t// Reset primary term\n\t\t\t\tthis.resetPrimaryTermListItems();\n\t\t\t\tthis.setPrimaryTerm();\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Set primary term list items\n\t\t * @param termListItems\n\t\t */\n\t\tsetPrimaryTermListItems( termListItems ) {\n\t\t\t// Reset a previously set primary term, if any.\n\t\t\tthis.resetPrimaryTermListItems();\n\n\t\t\tfor ( const termListItem of termListItems ) {\n\t\t\t\tconst primaryButtonWrap = termListItem.querySelector( 'span.primary-term-button' );\n\t\t\t\ttermListItem.removeChild( primaryButtonWrap ); // Remove \"Set Primary\" button wrap\n\t\t\t\t// Insert \"Reset Primary\" button\n\t\t\t\ttermListItem.firstElementChild.insertAdjacentHTML( 'afterend', reSetPrimaryButtonTamplate );\n\t\t\t\ttermListItem.classList.add( 'primary-term' ); // Add 'primary-term' class to list item\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Reset primary term list terms\n\t\t */\n\t\tresetPrimaryTermListItems() {\n\t\t\tconst primaryTermListItems = this.taxonomyMetaBox.querySelectorAll( 'li.primary-term' );\n\n\t\t\tfor ( const primaryTermListItem of primaryTermListItems ) {\n\t\t\t\tconst primaryButtonWrap = primaryTermListItem.querySelector( 'span.primary-term-button' );\n\n\t\t\t\tprimaryTermListItem.classList.remove( 'primary-term' ); // Remove primary-term class from LI\n\t\t\t\tprimaryTermListItem.removeChild( primaryButtonWrap ); // Delete \"Reset Primary\" button wrap\n\t\t\t\tprimaryTermListItem.firstElementChild.insertAdjacentHTML( 'afterend', setPrimaryButtonTamplate );\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Return the primary term id\n\t\t */\n\t\tgetPrimaryTerm() {\n\t\t\treturn this.primaryInput.value;\n\t\t}\n\n\t\t/**\n\t\t * Set a primary term id into hidden input\n\t\t * @param termID\n\t\t */\n\t\tsetPrimaryTerm( termID = 0 ) {\n\t\t\tthis.primaryInput.value = termID;\n\t\t\tif ( termID > 0 ) {\n\t\t\t\t// Check \"All Categories\" item\n\t\t\t\tdocument.getElementById( `in-${ this.taxonomy.name }-${ termID }` ).checked = true;\n\t\t\t\t// Check Most used item\n\t\t\t\tconst popularTermckBox = document.getElementById( `in-popular-${ this.taxonomy.name }-${ termID }` );\n\t\t\t\tif ( popularTermckBox ) {\n\t\t\t\t\tpopularTermckBox.checked = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\twindow.onload = function() {\n\t\tconst primaryButtonUITemplate = wp.template( 'wp-primary-term-button' );\n\t\tsetPrimaryButtonTamplate = primaryButtonUITemplate( { isPrimary: false } );\n\t\treSetPrimaryButtonTamplate = primaryButtonUITemplate( { isPrimary: true } );\n\t\t// Loop through each taxonomy and init WPPrimaryTerms class\n\t\twpPrimaryTermsVars.map( taxonomy => new WPPrimaryTerms( taxonomy ).init() );\n\t};\n}( window, document, jQuery ) );\n\n\n\n// WEBPACK FOOTER //\n// ./assets/js/admin/admin.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./assets/css/admin/admin.scss\n// module id = 2\n// module chunks = 0"],"sourceRoot":""}